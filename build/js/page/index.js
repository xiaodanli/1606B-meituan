require(["jquery","swiper","bscroll","render"],function(r,o,n,t){r.ajax({url:"/api/swiper",dataType:"json",success:function(n){console.log(n),1===n.code&&(t("#swiper-tpl",n.data,".swiper-wrapper"),new o(".swiper-container"))},error:function(n){console.warn(n)}});var e=1,i=0,a=new n(".con",{probeType:2,click:!0});function c(n){r.ajax({url:"/api/list",dataType:"json",data:{pagenum:n,limit:10},success:function(n){1===n.code&&(t("#list-tpl",n.data,".list-wrap",!0),a.refresh(),i=n.total)},error:function(n){console.warn(n)}})}c(e),a.on("scroll",function(){this.y<this.maxScrollY-44?e<i?r(".inner-con").attr("up","释放加载更多"):r(".inner-con").attr("up","暂无更多"):this.y<this.maxScrollY-22?e<i?r(".inner-con").attr("up","上拉加载"):r(".inner-con").attr("up","暂无更多"):44<this.y&&r(".inner-con").attr("down","释放刷新")}),a.on("touchEnd",function(){"释放加载更多"===r(".inner-con").attr("up")?(console.log("加载更多"),e<i?(c(++e),r(".inner-con").attr("up","上拉加载")):r(".inner-con").attr("up","暂无更多")):"释放刷新"===r(".inner-con").attr("down")&&location.reload()})});